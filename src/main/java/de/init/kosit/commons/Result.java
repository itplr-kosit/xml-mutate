// Generated by delombok at Fri Aug 13 16:11:22 CEST 2021
package de.init.kosit.commons;

import java.util.Collection;
import java.util.Collections;
import java.util.StringJoiner;

import javax.annotation.Nonnull;
import javax.annotation.Nullable;

public class Result<T, E> {
    private final T object;
    /**
     * Mögliche Fehlermeldungen.
     */
    private final Collection<E> errors;
    /**
     * Mögliche Warnungen.
     */
    private final Collection<E> warnings;

    public Result(final T o) {
        this(o, Collections.emptyList(), Collections.emptyList());
    }

    public Result(final Collection<E> errors) {
        this(null, errors);
    }

    public Result(final T object, final Collection<E> errors) {
        this(object, errors, Collections.emptyList());
    }

    public Result(@Nullable final T object, @Nonnull final Collection<E> errors, @Nullable final Collection<E> warnings) {
        this.object = object;
        this.errors = errors;
        this.warnings = warnings;
    }

    /**
     * Zeigt an, ob der Parsing-Schritt erfolgreich war
     *
     * @return true wenn erfolgreich
     */
    public boolean isValid() {
        return object != null && errors.isEmpty();
    }

    public boolean isInvalid() {
        return !isValid();
    }

    @Nonnull
    public String getErrorDescription() {
        final StringJoiner joiner = new StringJoiner("\n");
        errors.forEach(e -> joiner.add(e.toString()));
        return joiner.toString();
    }

    public T getObject() {
        return this.object;
    }

    /**
     * @return Mögliche Fehlermeldungen.
     */
    public Collection<E> getErrors() {
        return this.errors;
    }

    /**
     * @return Mögliche Warnungen.
     */
    public Collection<E> getWarnings() {
        return this.warnings;
    }
}
